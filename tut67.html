<!-- ---------------------- Ch # 10 ------------------   -->

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Post request</title>
</head>

<body>
    <script>
        // Post request: we use Post request to send(large) data into server.


        // JSON-Placeholder
        // the 2nd option in fetch API is 'option', use when we want to post Req


        // Get Req Example
        // fetch('https://jsonplaceholder.typicode.com/todos/1')
        //     .then(response => response.json())
        //     .then(json => console.log(json))






        // Post Req Example
        const createTodo = async (Todo) => {

            let option = {
                method: 'POST',//You're telling the server you want to "post" something,pizza place 

                // body: JSON.stringify({//convert Js object into string
                //it's the data you want to send to the server.
                //     title: 'Harry',
                //     body: 'barby',
                //     userId: 1100,
                // }),
                body: JSON.stringify(Todo),
                headers: { 'Content-type': 'application/json; charset=UTF-8', },
                //For the server, it's saying how the data is formatted.

            }

            let p = await fetch('https://jsonplaceholder.typicode.com/posts', option)
            let response = await p.json();
            return response;
        }
        const getTodo = async (id) => {
            let response = await fetch('https://jsonplaceholder.typicode.com/posts/' + id)
            let r = await response.json();
            return r;
        }
        const mainFunc = async () => {
            let Todo = {
                title: 'Harry',
                body: 'barby',
                userId: 1100,
            }

            let Todor = await createTodo(Todo);
            console.log(Todor);
            console.log(await getTodo(5));
        }
        mainFunc();

    </script>
</body>

</html>